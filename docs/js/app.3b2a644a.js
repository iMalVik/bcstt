(function(e){function t(t){for(var n,s,o=t[0],c=t[1],l=t[2],d=0,f=[];d<o.length;d++)s=o[d],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&f.push(r[s][0]),r[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);u&&u(t);while(f.length)f.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],n=!0,o=1;o<a.length;o++){var c=a[o];0!==r[c]&&(n=!1)}n&&(i.splice(t--,1),e=s(s.s=a[0]))}return e}var n={},r={app:0},i=[];function s(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=e,s.c=n,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(a,n,function(t){return e[t]}.bind(null,n));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var u=c;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"15a4":function(e,t,a){var n={"./en.json":"e088","./ru.json":"626a"};function r(e){var t=i(e);return a(t)}function i(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=i,e.exports=r,r.id="15a4"},5030:function(e,t,a){},"548d":function(e,t,a){},"563a":function(e,t,a){"use strict";var n=a("ed11"),r=a.n(n);r.a},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("v-navigation-drawer",{attrs:{app:"",clipped:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[a("v-list",{attrs:{dense:""}},[a("v-list-item",{attrs:{link:"",href:e.appReadme,target:"_blank"}},[a("v-list-item-action",{staticClass:"mr-2"},[a("v-icon",[e._v("mdi-open-in-new")])],1),a("v-list-item-content",[a("v-list-item-title",[e._v(e._s(e.$t("appTaskDescription")))])],1)],1),a("v-list-item",{attrs:{link:"",href:e.appSources,target:"_blank"}},[a("v-list-item-action",{staticClass:"mr-2"},[a("v-icon",[e._v("mdi-github")])],1),a("v-list-item-content",[a("v-list-item-title",[e._v(e._s(e.$t("appSources")))])],1)],1),a("v-subheader",{staticClass:"mt-4 grey--text text--darken-1"},[e._v(" "+e._s(e.$t("developer"))+" ")]),a("v-list-item",[a("v-list-item-avatar",[a("img",{attrs:{src:e.authorIcon,alt:""}})]),a("v-list-item-title",[e._v(" "+e._s(e.$t("author"))+" ")])],1)],1)],1),a("v-app-bar",{attrs:{app:"",dense:"","clipped-left":"",src:e.srcAppBabBackground}},[a("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.drawer=!e.drawer}}}),a("v-toolbar-title",[e._v(e._s(e.$t("appName")))]),a("v-spacer"),a("BtnMenuTheme"),a("BtnMenuLocales")],1),a("v-container",{staticClass:"pa-1 pa-sm-3",attrs:{fluid:""}},[a("v-content",[a("CurrencyRates")],1)],1)],1)},i=[],s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"currency-rates"},[a("v-card",[a("v-card-title",{staticClass:"pt-2 pb-2"},[a("h2",[e._v(" "+e._s(e.$t("currencyRates.title")))])]),a("table-rates",{attrs:{headers:e.headers}})],1)],1)},o=[],c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-data-table",{staticClass:"elevation-17",attrs:{headers:e.headers,items:e.rates,"sort-by":"ID","multi-sort":"",search:e.search,loading:e.isLoading,"loading-text":e.loadingText},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("div",{staticClass:"d-flex flex-column"},[a("hr",{staticClass:"mb-2 mt-2 mr-2 mr-sm-4",attrs:{color:"lightgrey"}}),a("div",{staticClass:"d-flex"},[a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,r=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"mr-2 mr-sm-4",attrs:{disabled:e.isLoading}},"v-btn",r,!1),n),[a("v-icon",{staticClass:"ma-0",attrs:{left:"",color:"grey"}},[e._v("mdi-plus")]),a("div",{staticClass:"d-none d-sm-block ml-2"},[e._v(e._s(e.$t("currencyRates.add")))])],1)]}}]),model:{value:e.isDialog,callback:function(t){e.isDialog=t},expression:"isDialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:e.$t("currencyRates.headers.currencyLetterCode"),outlined:"",rounded:"",clearable:"",dense:""},model:{value:e.editedItem.Cur_Abbreviation,callback:function(t){e.$set(e.editedItem,"Cur_Abbreviation",t)},expression:"editedItem.Cur_Abbreviation"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:e.$t("currencyRates.headers.currencyName"),outlined:"",rounded:"",clearable:"",dense:""},model:{value:e.editedItem.Cur_Name,callback:function(t){e.$set(e.editedItem,"Cur_Name",t)},expression:"editedItem.Cur_Name"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:e.$t("currencyRates.headers.numberOfCurrencyUnits"),outlined:"",rounded:"",clearable:"",dense:""},model:{value:e.editedItem.Cur_Scale,callback:function(t){e.$set(e.editedItem,"Cur_Scale",t)},expression:"editedItem.Cur_Scale"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:e.$t("currencyRates.headers.courseToBelRuble"),outlined:"",rounded:"",clearable:"",dense:""},model:{value:e.editedItem.Cur_OfficialRate,callback:function(t){e.$set(e.editedItem,"Cur_OfficialRate",t)},expression:"editedItem.Cur_OfficialRate"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{rounded:""},on:{click:e.saveItem}},[e._v(e._s(e.$t("currencyRates.save")))]),a("v-btn",{attrs:{rounded:""},on:{click:e.close}},[e._v(e._s(e.$t("currencyRates.cancel")))])],1)],1)],1),a("v-btn",{staticClass:"mr-2 mr-sm-4",attrs:{loading:e.isLoadingBtnUpdateData,disabled:e.isLoadingBtnUpdateData},on:{click:e.initialize},scopedSlots:e._u([{key:"loader",fn:function(){return[a("span",{staticClass:"custom-loader"},[a("v-icon",{attrs:{light:""}},[e._v("mdi-cached")])],1)]},proxy:!0}])},[a("v-icon",{staticClass:"ma-0",attrs:{left:"",color:"grey"}},[e._v("mdi-update")]),a("div",{staticClass:"d-none d-sm-block ml-2"},[e._v(e._s(e.$t("currencyRates.updateData")))])],1)],1)]),a("v-spacer"),a("v-text-field",{staticClass:"mt-auto",attrs:{"append-icon":"mdi-magnify",label:e.$t("currencyRates.search"),"hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)]},proxy:!0},{key:"item.actions",fn:function(t){var n=t.item;return[a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,i=t.attrs;return[a("v-icon",e._g(e._b({staticClass:"mr-2",attrs:{small:"",disabled:e.isLoading},on:{click:function(t){return e.editItem(n,n.ID)}}},"v-icon",i,!1),r),[e._v("mdi-pencil")])]}}],null,!0)},[a("span",[e._v(e._s(e.$t("tooltip.edit")))])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,i=t.attrs;return[a("v-icon",e._g(e._b({attrs:{small:"",disabled:e.isLoading},on:{click:function(t){return e.deleteItem(n)}}},"v-icon",i,!1),r),[e._v("mdi-delete")])]}}],null,!0)},[a("span",[e._v(e._s(e.$t("tooltip.delete")))])])]}},{key:"no-data",fn:function(){return[a("v-btn",{on:{click:e.initialize}},[e._v(e._s(e.$t("currencyRates.updateData")))])]},proxy:!0}])})},l=[],u=(a("4de4"),a("d81d"),a("d3b7"),a("2909")),d={name:"Table",props:{headers:{type:Array,required:!0}},data:function(){return{isDialog:!1,keyRates:"rates",search:"",loading:!1,rates:[],newRates:[],isLoading:!1,editedIndex:-1,editedItem:{ID:"",Cur_Abbreviation:"",Cur_Name:"",Cur_Scale:"",Cur_OfficialRate:""},defaultItem:{ID:"",Cur_Abbreviation:"",Cur_Name:"",Cur_Scale:"",Cur_OfficialRate:""},loadingErrorText:""}},computed:{formTitle:function(){return this.$t("currencyRates."+(-1===this.editedIndex?"newCurrency":"currencyEditing"))},loadingText:function(){return this.loadingErrorText||this.$t("currencyRates.loadingText")},isLoadingBtnUpdateData:function(){return this.loadingErrorText?!this.isLoading:this.isLoading}},watch:{isDialog:function(e){e||this.close()},newRates:function(e){var t=this;setTimeout((function(){new Promise((function(a){sessionStorage.setItem(t.keyRates,JSON.stringify(e)),a(e)})).then((function(e){t.rates=e})).then((function(){t.isLoading=!1})).catch((function(){t.defaultErrorMessage()}))}),2e3)}},mounted:function(){var e=this;null!==sessionStorage.getItem(this.keyRates)?this.getRatesFromSession().then((function(t){e.rates=t})).then((function(){e.isLoading=!1})).catch((function(){e.defaultErrorMessage()})):this.initialize()},methods:{initialize:function(){var e=this;this.isLoading=!0,this.rates=[],this.loadingErrorText="",setTimeout((function(){fetch("https://www.nbrb.by/api/exrates/rates?periodicity=0").then((function(e){return e.json()})).catch((function(){alert(e.$t("currencyRates.messages.downloadFromServerFailed"))})).then((function(e){return e.map((function(e,t){return e.ID=++t,delete e.Date,delete e.Cur_ID,e}))})).then((function(e){return sessionStorage.setItem("rates",JSON.stringify(e)),e})).then((function(t){e.rates=t})).then((function(){e.isLoading=!1})).catch((function(){e.defaultErrorMessage()}))}),2e3)},getRatesFromSession:function(){var e=this;return this.isLoading=!0,new Promise((function(t){t(JSON.parse(sessionStorage.getItem(e.keyRates)))}))},editItem:function(e){this.editedIndex=e.ID,this.editedItem=Object.assign({},e),this.isDialog=!0},deleteItem:function(e){var t=this;confirm(this.$t("currencyRates.messages.areYouSureYouWantToDeleteTheEntry"))&&this.getRatesFromSession().then((function(t){return t.filter((function(t){return t.ID!==e.ID}))})).then((function(e){t.newRates=e})).catch((function(){t.defaultErrorMessage()}))},saveItem:function(){var e=this;this.getRatesFromSession().then((function(t){return e.editedIndex>-1?t.map((function(t){return t.ID===e.editedIndex?e.editedItem:t})):(e.editedItem.ID=e.searchNextUniID(t),t.push(e.editedItem),t)})).then((function(t){e.newRates=t})).then((function(){e.close()})).catch((function(){e.defaultErrorMessage()}))},searchNextUniID:function(e){return Math.max.apply(Math,Object(u["a"])(e.map((function(e){return e.ID}))))+1},close:function(){var e=this;this.isDialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},defaultErrorMessage:function(){var e=this.$t("currencyRates.messages.defaultErrMessage");alert(e),this.loadingErrorText=e,sessionStorage.clear(),this.rates=[],this.close()}}},f=d,m=(a("563a"),a("2877")),v=a("6544"),p=a.n(v),h=a("8336"),b=a("b0af"),g=a("99d9"),y=a("62ad"),_=a("a523"),C=a("8fea"),k=a("169a"),x=a("132d"),I=a("0fd9"),T=a("2fa4"),w=a("8654"),R=a("71d9"),S=a("3a2f"),$=Object(m["a"])(f,c,l,!1,null,"2702d25e",null),D=$.exports;p()($,{VBtn:h["a"],VCard:b["a"],VCardActions:g["a"],VCardText:g["b"],VCardTitle:g["c"],VCol:y["a"],VContainer:_["a"],VDataTable:C["a"],VDialog:k["a"],VIcon:x["a"],VRow:I["a"],VSpacer:T["a"],VTextField:w["a"],VToolbar:R["a"],VTooltip:S["a"]});var L={name:"CurrencyRates",components:{TableRates:D},data:function(){return{}},computed:{headers:function(){return[{text:this.$t("currencyRates.headers.lineNumber"),align:"start",value:"ID"},{text:this.$t("currencyRates.headers.currencyLetterCode"),value:"Cur_Abbreviation"},{text:this.$t("currencyRates.headers.currencyName"),value:"Cur_Name"},{text:this.$t("currencyRates.headers.numberOfCurrencyUnits"),value:"Cur_Scale"},{text:this.$t("currencyRates.headers.courseToBelRuble"),value:"Cur_OfficialRate"},{value:"actions",sortable:!1}]}}},V=L,O=(a("8748"),Object(m["a"])(V,s,o,!1,null,null,null)),N=O.exports;p()(O,{VCard:b["a"],VCardTitle:g["c"]});var E=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"btn-theme"},[a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,r=t.attrs;return[a("v-btn",e._g(e._b({attrs:{block:"",text:""},on:{click:e.changeTheme}},"v-btn",r,!1),n),[a("div",{staticClass:"styleThemeIcon",style:e.themeNow.style}),a("div",{staticClass:"mr-2 d-none d-sm-block"},[e._v(" "+e._s(e.themeNow.name))])])]}}])},[a("span",[e._v(e._s(e.$t("theme.theme")))])])],1)},M=[],j={name:"BtnMenuTheme",data:function(){return{}},computed:{themeNow:function(){var e=this.$vuetify.theme.dark;return{name:this.$t("theme."+(e?"dark":"light")),style:{backgroundColor:e?"black":"white"}}}},methods:{changeTheme:function(){this.$vuetify.theme.dark=!this.$vuetify.theme.dark}}},A=j,B=(a("79b9"),Object(m["a"])(A,E,M,!1,null,"1ed340af",null)),P=B.exports;p()(B,{VBtn:h["a"],VTooltip:S["a"]});var U=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"menu-locales"},[a("v-menu",{attrs:{bottom:"",origin:"center center",transition:"scale-transition"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,r=t.attrs;return[a("v-btn",e._g(e._b({attrs:{text:"",block:""}},"v-btn",r,!1),n),[a("country-flag",{attrs:{country:e.$t("iconLang"),left:""}}),a("div",{staticClass:"mr-2 d-none d-sm-block"},[e._v(e._s(e.$t("lang")))])],1)]}}])},[a("v-list",e._l(e.locales,(function(t,n){return a("v-list-item",{key:n,on:{click:function(a){return e.changeLocale(t)}}},[a("country-flag",{staticClass:"width-flag",attrs:{country:t.icon,left:""}}),a("v-list-item-title",{staticClass:"styleLocaleName"},[e._v(e._s(t.name.toUpperCase()))])],1)})),1)],1)],1)},F=[],J={name:"MenuLocales",data:function(){return{locales:[{name:"English",icon:"gb",lang:"en"},{name:"Русский",icon:"ru",lang:"ru"}]}},methods:{changeLocale:function(e){this.$vuetify.lang.current=e.lang,this.$i18n.locale=e.lang,this.iconLang=e.icon}}},Y=J,z=(a("9e0a"),a("8860")),W=a("da13"),q=a("5d23"),Z=a("e449"),G=Object(m["a"])(Y,U,F,!1,null,"9426cd58",null),H=G.exports;p()(G,{VBtn:h["a"],VList:z["a"],VListItem:W["a"],VListItemTitle:q["b"],VMenu:Z["a"]});var K={name:"App",components:{BtnMenuTheme:P,BtnMenuLocales:H,CurrencyRates:N},data:function(){return{drawer:null,appReadme:"https://github.com/iMalVik/bcstt/blob/master/README.md",appSources:"https://github.com/iMalVik/bcstt",authorIcon:"https://avatars3.githubusercontent.com/u/63005113?s=60&v=4"}},computed:{srcAppBabBackground:function(){return this.$vuetify.theme.dark?"https://cdn.vuetifyjs.com/images/backgrounds/vbanner.jpg":""}}},Q=K,X=a("7496"),ee=a("40dc"),te=a("5bc1"),ae=a("a75b"),ne=a("1800"),re=a("8270"),ie=a("f774"),se=a("e0c7"),oe=a("2a7f"),ce=Object(m["a"])(Q,r,i,!1,null,null,null),le=ce.exports;p()(ce,{VApp:X["a"],VAppBar:ee["a"],VAppBarNavIcon:te["a"],VContainer:_["a"],VContent:ae["a"],VIcon:x["a"],VList:z["a"],VListItem:W["a"],VListItemAction:ne["a"],VListItemAvatar:re["a"],VListItemContent:q["a"],VListItemTitle:q["b"],VNavigationDrawer:ie["a"],VSpacer:T["a"],VSubheader:se["a"],VToolbarTitle:oe["a"]});var ue=a("f309"),de=a("5530"),fe=a("3aa4");fe["en"].dataTable.itemsPerPageText="Number of items per page:";var me=Object(de["a"])({},fe["en"]);fe["ru"].dataTable.itemsPerPageText="Количество элементов на странице:";var ve=Object(de["a"])({},fe["ru"]);n["a"].use(ue["a"]);var pe=new ue["a"]({lang:{locales:{en:me,ru:ve},current:"ru"}}),he=(a("4160"),a("ac1f"),a("466d"),a("159b"),a("ddb0"),a("a925"));function be(){var e=a("15a4"),t={};return e.keys().forEach((function(a){var n=a.match(/([A-Za-z0-9-_]+)\./i);if(n&&n.length>1){var r=n[1];t[r]=e(a)}})),t}n["a"].use(he["a"]);var ge=new he["a"]({locale:"ru",fallbackLocale:"en",messages:be()}),ye=a("eea2");n["a"].component("country-flag",ye["a"]),n["a"].config.productionTip=!1,new n["a"]({vuetify:pe,i18n:ge,render:function(e){return e(le)}}).$mount("#app")},"626a":function(e){e.exports=JSON.parse('{"test":"Здравствуйте i18n RU !!","appName":"БТСТЗ","appTaskDescription":"Описание задачи приложения","appSources":"Исходники приложения","developer":"Рзработчик","author":"Виктор Малышкин","lang":"Русский","iconLang":"ru","tooltip":{"edit":"Редактировать","delete":"Удалить"},"currencyRates":{"title":"Курсы валют","add":"Добавить","cancel":"Отмена","save":"Сохранить","updateData":"Обновить данные","search":"Поиск","headers":{"lineNumber":"Номер строки","currencyLetterCode":"Буквенный код валюты","currencyName":"Наименование валюты","numberOfCurrencyUnits":"Количество единиц валюты","courseToBelRuble":"Курс к бел. рублю"},"loadingText":"Загрузка... Пожалуйста подождите!","newCurrency":"Новая валюта","currencyEditing":"Редактирование валюты","messages":{"defaultErrMessage":"Что-то пошло не так! Попробуйте перезагрузить страницу и заново взаимодействовать с данными.","downloadFromServerFailed":"Загрузка с сервера не удалась!","areYouSureYouWantToDeleteTheEntry":"Вы действительно хотите удалить запись?"}},"theme":{"theme":"Тема","light":"Светлая","dark":"Тёмная"}}')},"79b9":function(e,t,a){"use strict";var n=a("548d"),r=a.n(n);r.a},8748:function(e,t,a){"use strict";var n=a("b6b3"),r=a.n(n);r.a},"9e0a":function(e,t,a){"use strict";var n=a("5030"),r=a.n(n);r.a},b6b3:function(e,t,a){},e088:function(e){e.exports=JSON.parse('{"test":"hello i18n EN!!","appName":"BCSTT","appTaskDescription":"Application task description","appSources":"Application sources","developer":"Developer","author":"Viktor Malyshkin","lang":"English","iconLang":"gb","tooltip":{"edit":"Edit","delete":"Delete"},"currencyRates":{"title":"Currency rates","add":"Add","cancel":"Cancel","save":"Save","updateData":"Update data","search":"Search","headers":{"lineNumber":"Line number","currencyLetterCode":"Currency letter code","currencyName":"Currency Name","numberOfCurrencyUnits":"Number of currency units","courseToBelRuble":"The Course to the belarusian ruble"},"loadingText":"Loading... Please wait","newCurrency":"New Currency","currencyEditing":"Currency Editing","messages":{"defaultErrMessage":"Something went wrong! Try reloading the page and interacting with the data again.","downloadFromServerFailed":"Download from server failed!","areYouSureYouWantToDeleteTheEntry":"Are you sure you want to delete the entry?"}},"theme":{"theme":"Theme","light":"Light","dark":"Dark"}}')},ed11:function(e,t,a){}});
//# sourceMappingURL=app.3b2a644a.js.map